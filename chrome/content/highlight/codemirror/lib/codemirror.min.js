window.CodeMirror=function(){"use strict";function e(l,s){function u(e){tr.onDragEvent&&tr.onDragEvent(ii,M(e))||L(e)}function p(e){return e>=0&&e<Mr.size}function g(e){return x(Mr,e)}function w(e,t){Rr=!0;for(var n=t-e.height,r=e;r;r=r.parent)r.height+=n}function A(e,t){return e.styles||e.highlight(br,e.stateAfter=jn(C(e)),tr.tabSize),e.getContent(tr.tabSize,t,tr.lineWrapping)}function H(e){var t={line:0,ch:0};Wt(t,{line:Mr.size-1,ch:g(Mr.size-1).text.length},Ct(e),t,t),Er=!0}function $(e){var t=[];return Mr.iter(0,Mr.size,function(e){t.push(e.text)}),t.join(e||"\n")}function q(){ar.scrollTop!=Kr&&(Kr=yr.scrollTop=ar.scrollTop,Qt([]))}function Q(){tr.fixedGutter&&gr.style.left!=yr.scrollLeft+"px"&&(gr.style.left=yr.scrollLeft+"px"),yr.scrollTop!=Kr&&(Kr=yr.scrollTop,ar.scrollTop!=Kr&&(ar.scrollTop=Kr),Qt([])),tr.onScroll&&tr.onScroll(ii)}function tt(e){function t(t){ut&&(yr.draggable=!1),Wr=!1,h(),d(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(T(t),un(l.line,l.ch,!0),Xt())}function n(e){if("single"==s)ln(l,e);else if("double"==s){var t=vn(e);U(e,p)?ln(t.from,g):ln(p,t.to)}else"triple"==s&&(U(e,p)?ln(g,cn({line:e.line,ch:0})):ln(p,cn({line:e.line+1,ch:0})))}function r(e){var t=Vn(e,!0);if(t&&!K(t,c)){Sr||Lt(),c=t,n(t),Er=!1;var i=qt();(t.line>=i.to||t.line<i.from)&&(f=setTimeout(Qn(function(){r(e)}),150))}}function i(e){clearTimeout(f);var t=Vn(e);t&&n(t),T(e),Xt(),Er=!0,v(),h()}on(E(e,"shiftKey"));for(var o=N(e);o!=xr;o=o.parentNode)if(o.parentNode==mr&&o!=vr)return;for(var o=N(e);o!=xr;o=o.parentNode)if(o.parentNode==pr)return tr.onGutterClick&&tr.onGutterClick(ii,j(pr.childNodes,o)+Yr,e),T(e);var l=Vn(e);switch(W(e)){case 3:return void(it&&Gn(e));case 2:return l&&un(l.line,l.ch,!0),setTimeout(Xt,20),void T(e)}if(!l)return void(N(e)==yr&&T(e));Sr||Lt();var a=+new Date,s="single";if(Nr&&Nr.time>a-400&&K(Nr.pos,l))s="triple",T(e),setTimeout(Xt,20),mn(l.line);else if(Lr&&Lr.time>a-400&&K(Lr.pos,l)){s="double",Nr={time:a,pos:l},T(e);var u=vn(l);ln(u.from,u.to)}else Lr={time:a,pos:l};var f,c=l;if(tr.dragDrop&&mt&&!tr.readOnly&&!K(Br.from,Br.to)&&!U(l,Br.from)&&!U(Br.to,l)&&"single"==s){ut&&(yr.draggable=!0);var h=D(document,"mouseup",Qn(t),!0),d=D(yr,"drop",Qn(t),!0);return Wr=!0,void(yr.dragDrop&&yr.dragDrop())}T(e),"single"==s&&un(l.line,l.ch,!0);var p=Br.from,g=Br.to,v=D(document,"mousemove",Qn(function(e){clearTimeout(f),T(e),ot||W(e)?r(e):i(e)}),!0),h=D(document,"mouseup",Qn(i),!0)}function ft(e){for(var t=N(e);t!=xr;t=t.parentNode)if(t.parentNode==pr)return T(e);T(e)}function ht(e){if(!tr.onDragEvent||!tr.onDragEvent(ii,M(e))){T(e);var t=Vn(e,!0),n=e.dataTransfer.files;if(t&&!tr.readOnly)if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,i=Array(r),o=0,l=function(e,n){var l=new FileReader;l.onload=function(){i[n]=l.result,++o==r&&(t=cn(t),Qn(function(){var e=Pt(i.join(""),t,t);ln(t,e)})())},l.readAsText(e)},a=0;r>a;++a)l(n[a],a);else{if(Wr&&!U(t,Br.from)&&!U(Br.to,t))return;try{var i=e.dataTransfer.getData("Text");i&&er(function(){var e=Br.from,n=Br.to;ln(t,t),Wr&&Pt("",e,n),Bt(i),Xt()})}catch(e){}}}}function gt(e){var t=Ft();e.dataTransfer.setData("Text",t),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(V("img"),0,0)}function xt(e,t){if("string"==typeof e&&(e=nt[e],!e))return!1;var n=Ar;try{tr.readOnly&&(Fr=!0),t&&(Ar=null),e(ii)}catch(r){if(r!=vt)throw r;return!1}finally{Ar=n,Fr=!1}return!0}function kt(e){function i(){f=!0}var o=t(tr.keyMap),l=o.auto;clearTimeout(ri),l&&!r(e)&&(ri=setTimeout(function(){t(tr.keyMap)==o&&(tr.keyMap=l.call?l.call(null,ii):l)},50));var a=St[E(e,"keyCode")],s=!1,u=ct&&J;if(null==a||e.altGraphKey)return!1;E(e,"altKey")&&(a="Alt-"+a),E(e,u?"metaKey":"ctrlKey")&&(a="Ctrl-"+a),E(e,u?"ctrlKey":"metaKey")&&(a="Cmd-"+a);var f=!1;return s=E(e,"shiftKey")?n("Shift-"+a,tr.extraKeys,tr.keyMap,function(e){return xt(e,!0)},i)||n(a,tr.extraKeys,tr.keyMap,function(e){return"string"==typeof e&&/^go[A-Z]/.test(e)?xt(e):void 0},i):n(a,tr.extraKeys,tr.keyMap,xt,i),f&&(s=!1),s&&(T(e),Yn(),ot&&(e.oldKeyCode=e.keyCode,e.keyCode=0)),s}function wt(e,t){var r=n("'"+t+"'",tr.extraKeys,tr.keyMap,function(e){return xt(e,!0)});return r&&(T(e),Yn()),r}function Mt(e){if(Sr||Lt(),ot&&27==e.keyCode&&(e.returnValue=!1),Jr&&Yt()&&(Jr=!1),!tr.onKeyEvent||!tr.onKeyEvent(ii,M(e))){var t=E(e,"keyCode");on(16==t||E(e,"shiftKey"));var n=kt(e);ct&&(oi=n?t:null,!n&&88==t&&E(e,J?"metaKey":"ctrlKey")&&Bt(""))}}function Tt(e){if(Jr&&Yt(),!tr.onKeyEvent||!tr.onKeyEvent(ii,M(e))){var t=E(e,"keyCode"),n=E(e,"charCode");if(ct&&t==oi)return oi=null,void T(e);if(!(ct&&(!e.which||e.which<10)||dt)||!kt(e)){var r=String.fromCharCode(null==n?t:n);tr.electricChars&&br.electricChars&&tr.smartIndent&&!tr.readOnly&&br.electricChars.indexOf(r)>-1&&setTimeout(Qn(function(){xn(Br.to.line,"smart")}),75),wt(e,r)||Gt()}}}function At(e){tr.onKeyEvent&&tr.onKeyEvent(ii,M(e))||16==E(e,"keyCode")&&(Ar=null)}function Lt(){"nocursor"!=tr.readOnly&&(Sr||(tr.onFocus&&tr.onFocus(ii),Sr=!0,-1==yr.className.search(/\bCodeMirror-focused\b/)&&(yr.className+=" CodeMirror-focused")),Vt(),Yn())}function Nt(){Sr&&(tr.onBlur&&tr.onBlur(ii),Sr=!1,Pr&&Qn(function(){Pr&&(Pr(),Pr=null)})(),yr.className=yr.className.replace(" CodeMirror-focused","")),clearInterval(Cr),setTimeout(function(){Sr||(Ar=null)},150)}function Wt(e,t,n,r,i){if(!Fr){var o=[];if(Mr.iter(e.line,t.line+1,function(e){o.push(d(e.text,e.markedSpans))}),Qr)for(Qr.addChange(e.line,n.length,o);Qr.done.length>tr.undoDepth;)Qr.done.shift();var l=f(h(o[0]),h(P(o)),e.ch,t.ch,n);Ht(e,t,l,r,i)}}function Et(e,t){if(e.length){for(var n=e.pop(),r=[],i=n.length-1;i>=0;i-=1){var o=n[i],l=[],a=o.start+o.added;Mr.iter(o.start,a,function(e){l.push(d(e.text,e.markedSpans))}),r.push({start:o.start,added:o.old.length,old:l});var s={line:o.start+o.old.length-1,ch:X(c(P(l)),c(P(o.old)))};Ht({line:o.start,ch:0},{line:a-1,ch:g(a-1).text.length},o.old,s,s)}Er=!0,t.push(r)}}function Dt(){Et(Qr.done,Qr.undone)}function zt(){Et(Qr.undone,Qr.done)}function Ht(e,t,n,r,i){function o(e){return e<=Math.min(t.line,t.line+C)?e:e+C}if(!Fr){var l=!1,a=jr.text.length;tr.lineWrapping||Mr.iter(e.line,t.line+1,function(e){return e.hidden||e.text.length!=a?void 0:(l=!0,!0)}),(e.line!=t.line||n.length>1)&&(Rr=!0);var s=t.line-e.line,u=g(e.line),f=g(t.line),d=P(n);if(0==e.ch&&0==t.ch&&""==c(d)){for(var p=[],m=0,y=n.length-1;y>m;++m)p.push(new v(c(n[m]),h(n[m])));f.update(f.text,h(d)),s&&Mr.remove(e.line,s,Ir),p.length&&Mr.insert(e.line,p)}else if(u==f)if(1==n.length)u.update(u.text.slice(0,e.ch)+c(n[0])+u.text.slice(t.ch),h(n[0]));else{for(var p=[],m=1,y=n.length-1;y>m;++m)p.push(new v(c(n[m]),h(n[m])));p.push(new v(c(d)+u.text.slice(t.ch),h(d))),u.update(u.text.slice(0,e.ch)+c(n[0]),h(n[0])),Mr.insert(e.line+1,p)}else if(1==n.length)u.update(u.text.slice(0,e.ch)+c(n[0])+f.text.slice(t.ch),h(n[0])),Mr.remove(e.line+1,s,Ir);else{var p=[];u.update(u.text.slice(0,e.ch)+c(n[0]),h(n[0])),f.update(c(d)+f.text.slice(t.ch),h(d));for(var m=1,y=n.length-1;y>m;++m)p.push(new v(c(n[m]),h(n[m])));s>1&&Mr.remove(e.line+1,s-1,Ir),Mr.insert(e.line+1,p)}if(tr.lineWrapping){var x=Math.max(5,yr.clientWidth/Kn()-3);Mr.iter(e.line,e.line+n.length,function(e){if(!e.hidden){var t=Math.ceil(e.text.length/x)||1;t!=e.height&&w(e,t)}})}else Mr.iter(e.line,e.line+n.length,function(e){var t=e.text;!e.hidden&&t.length>a&&(jr=e,a=t.length,_r=!0,l=!1)}),l&&(Zr=!0);Tr=Math.min(Tr,e.line),_n(400);var C=n.length-s-1;if(zr.push({from:e.line,to:t.line+1,diff:C}),tr.onChange){for(var m=0;m<n.length;++m)"string"!=typeof n[m]&&(n[m]=n[m].text);var b={from:e,to:t,text:n};if(Hr){for(var S=Hr;S.next;S=S.next);S.next=b}else Hr=b}an(cn(r),cn(i),o(Br.from.line),o(Br.to.line))}}function Ot(){var e=Mr.height*Bn()+2*Un();return.99*e>yr.offsetHeight?e:!1}function Rt(e){var t=Ot();ar.style.display=t?"block":"none",t?(lr.style.height=mr.style.minHeight=t+"px",ar.style.height=yr.clientHeight+"px",null!=e&&(ar.scrollTop=yr.scrollTop=e,ut&&setTimeout(function(){ar.scrollTop==e&&(ar.scrollTop=e+(e?-1:1),ar.scrollTop=e)},0))):mr.style.minHeight="",vr.style.top=Gr*Bn()+"px"}function It(){jr=g(0),_r=!0;var e=jr.text.length;Mr.iter(1,Mr.size,function(t){var n=t.text;!t.hidden&&n.length>e&&(e=n.length,jr=t)}),Zr=!1}function Pt(e,t,n){function r(r){if(U(r,t))return r;if(!U(n,r))return i;var o=r.line+e.length-(n.line-t.line)-1,l=r.ch;return r.line==n.line&&(l+=P(e).length-(n.ch-(n.line==t.line?t.ch:0))),{line:o,ch:l}}t=cn(t),n=n?cn(n):t,e=Ct(e);var i;return Kt(e,t,n,function(e){return i=e,{from:r(Br.from),to:r(Br.to)}}),i}function Bt(e,t){Kt(Ct(e),Br.from,Br.to,function(e){return"end"==t?{from:e,to:e}:"start"==t?{from:Br.from,to:Br.from}:{from:Br.from,to:e}})}function Kt(e,t,n,r){var i=1==e.length?e[0].length+t.ch:P(e).length,o=r({line:t.line+e.length-1,ch:i});Wt(t,n,e,o.from,o.to)}function Ut(e,t,n){var r=e.line,i=t.line;if(r==i)return g(r).text.slice(e.ch,t.ch);var o=[g(r).text.slice(e.ch)];return Mr.iter(r+1,i,function(e){o.push(e.text)}),o.push(g(i).text.slice(0,t.ch)),o.join(n||"\n")}function Ft(e){return Ut(Br.from,Br.to,e)}function Vt(){Jr||kr.set(tr.pollInterval,function(){Yt(),Sr&&Vt()})}function Gt(){function e(){var n=Yt();n||t?(Jr=!1,Vt()):(t=!0,kr.set(60,e))}var t=!1;Jr=!0,kr.set(20,e)}function Yt(){if(!Sr||bt(ir)||tr.readOnly)return!1;var e=ir.value;if(e==li)return!1;pi||Jn(),Ar=null;for(var t=0,n=Math.min(li.length,e.length);n>t&&li[t]==e[t];)++t;return t<li.length?Br.from={line:Br.from.line,ch:Br.from.ch-(li.length-t)}:Ur&&K(Br.from,Br.to)&&!Vr&&(Br.to={line:Br.to.line,ch:Math.min(g(Br.to.line).text.length,Br.to.ch+(e.length-t))}),Bt(e.slice(t),"end"),e.length>1e3?ir.value=li="":li=e,pi||qn(),Vr=!1,!0}function $t(e){K(Br.from,Br.to)?e&&(li=ir.value=""):(li="",ir.value=Ft(),Sr&&B(ir))}function Xt(){"nocursor"!=tr.readOnly&&ir.focus()}function jt(){var e=Zt();if(_t(e.x,e.y,e.x,e.yBot),Sr){var t=mr.getBoundingClientRect(),n=null;if(e.y+t.top<0?n=!0:e.y+t.top+Bn()>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n){var r="none"==fr.style.display;r&&(fr.style.display="",fr.style.left=e.x+"px",fr.style.top=e.y-Gr+"px"),fr.scrollIntoView(n),r&&(fr.style.display="none")}}}function Zt(){var e=Rn(Br.inverted?Br.from:Br.to),t=tr.lineWrapping?Math.min(e.x,dr.offsetWidth):e.x;return{x:t,y:e.y,yBot:e.yBot}}function _t(e,t,n,r){var i=Jt(e,t,n,r);null!=i.scrollLeft&&(yr.scrollLeft=i.scrollLeft),null!=i.scrollTop&&(ar.scrollTop=yr.scrollTop=i.scrollTop)}function Jt(e,t,n,r){var i=Fn(),o=Un();t+=o,r+=o,e+=i,n+=i;var l=yr.clientHeight,a=ar.scrollTop,s={},u=Ot()||1/0,f=o+10>t,c=r+o>u-10;a>t?s.scrollTop=f?0:Math.max(0,t):r>a+l&&(s.scrollTop=(c?u:r)-l);var h=yr.clientWidth,d=yr.scrollLeft,p=tr.fixedGutter?gr.clientWidth:0,g=p+i+10>e;return d+p>e||g?(g&&(e=0),s.scrollLeft=Math.max(0,e-10-p)):n>h+d-3&&(s.scrollLeft=n+10-h),s}function qt(e){var t=Bn(),n=(null!=e?e:ar.scrollTop)-Un(),r=Math.max(0,Math.floor(n/t)),i=Math.ceil((n+yr.clientHeight)/t);return{from:b(Mr,r),to:b(Mr,i)}}function Qt(e,t,n){function r(){var e=sr.firstChild,t=!1;return Mr.iter(Yr,$r,function(n){if(e){if(!n.hidden){var r=Math.round(e.offsetHeight/c)||1;n.height!=r&&(w(n,r),Rr=t=!0)}e=e.nextSibling}}),t}if(!yr.clientWidth)return void(Yr=$r=Gr=0);var i=qt(n);if(e!==!0&&0==e.length&&i.from>Yr&&i.to<$r)return void Rt(n);var o=Math.max(i.from-100,0),l=Math.min(Mr.size,i.to+100);o>Yr&&20>o-Yr&&(o=Yr),$r>l&&20>$r-l&&(l=Math.min(Mr.size,$r));for(var a=e===!0?[]:en([{from:Yr,to:$r,domStart:0}],e),s=0,u=0;u<a.length;++u){var f=a[u];f.from<o&&(f.domStart+=o-f.from,f.from=o),f.to>l&&(f.to=l),f.from>=f.to?a.splice(u--,1):s+=f.to-f.from}if(s==l-o&&o==Yr&&l==$r)return void Rt(n);a.sort(function(e,t){return e.domStart-t.domStart});var c=Bn(),h=gr.style.display;sr.style.display="none",tn(o,l,a),sr.style.display=gr.style.display="";var d=o!=Yr||l!=$r||Xr!=yr.clientHeight+c;if(d&&(Xr=yr.clientHeight+c),(o!=Yr||l!=$r&&tr.onViewportChange)&&setTimeout(function(){tr.onViewportChange&&tr.onViewportChange(ii,o,l)}),Yr=o,$r=l,Gr=S(Mr,o),_n(100),sr.childNodes.length!=$r-Yr)throw new Error("BAD PATCH! "+JSON.stringify(a)+" size="+($r-Yr)+" nodes="+sr.childNodes.length);return tr.lineWrapping&&r(),gr.style.display=h,(d||Rr)&&nn()&&tr.lineWrapping&&r()&&nn(),Rt(n),rn(),!t&&tr.onUpdate&&tr.onUpdate(ii),!0}function en(e,t){for(var n=0,r=t.length||0;r>n;++n){for(var i=t[n],o=[],l=i.diff||0,a=0,s=e.length;s>a;++a){var u=e[a];i.to<=u.from&&i.diff?o.push({from:u.from+l,to:u.to+l,domStart:u.domStart}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+l,to:u.to+l,domStart:u.domStart+(i.to-u.from)}))}e=o}return e}function tn(e,t,n){function r(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}if(n.length){for(var i=0,o=sr.firstChild,l=0;l<n.length;++l){for(var a=n[l];a.domStart>i;)o=r(o),i++;for(var s=0,u=a.to-a.from;u>s;++s)o=o.nextSibling,i++}for(;o;)o=r(o)}else G(sr);var f=n.shift(),o=sr.firstChild,s=e;Mr.iter(e,t,function(e){if(f&&f.to==s&&(f=n.shift()),!f||f.from>s){if(e.hidden)var t=V("pre");else{var t=A(e);if(e.className&&(t.className=e.className),e.bgClassName){var r=V("pre"," ",e.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");t=V("div",[r,t],null,"position: relative")}}sr.insertBefore(t,o)}else o=o.nextSibling;++s})}function nn(){if(tr.gutter||tr.lineNumbers){var e=vr.offsetHeight,t=yr.clientHeight;gr.style.height=(2>e-t?t:e)+"px";var n,r=document.createDocumentFragment(),i=Yr;if(Mr.iter(Yr,Math.max($r,Yr+1),function(e){if(e.hidden)r.appendChild(V("pre"));else{var t=e.gutterMarker,o=tr.lineNumbers?tr.lineNumberFormatter(i+tr.firstLineNumber):null;t&&t.text?o=t.text.replace("%N%",null!=o?o:""):null==o&&(o=" ");var l=r.appendChild(V("pre",null,t&&t.style));l.innerHTML=o;for(var a=1;a<e.height;++a)l.appendChild(V("br")),l.appendChild(document.createTextNode(" "));t||(n=i)}++i}),gr.style.display="none",Y(pr,r),null!=n&&tr.lineNumbers){for(var o=pr.childNodes[n-Yr],l=String(Mr.size).length,a=R(o.firstChild),s="";a.length+s.length<l;)s+=" ";s&&o.insertBefore(document.createTextNode(s),o.firstChild)}gr.style.display="";var u=Math.abs((parseInt(dr.style.marginLeft)||0)-gr.offsetWidth)>2;return dr.style.marginLeft=gr.offsetWidth+"px",Rr=!1,u}}function rn(){var e=K(Br.from,Br.to),t=Rn(Br.from,!0),n=e?t:Rn(Br.to,!0),r=Br.inverted?t:n,i=Bn(),o=O(xr),l=O(sr);if(or.style.top=Math.max(0,Math.min(yr.offsetHeight,r.y+l.top-o.top))+"px",or.style.left=Math.max(0,Math.min(yr.offsetWidth,r.x+l.left-o.left))+"px",e)fr.style.top=r.y+"px",fr.style.left=(tr.lineWrapping?Math.min(r.x,dr.offsetWidth):r.x)+"px",fr.style.display="",ur.style.display="none";else{var a=t.y==n.y,s=document.createDocumentFragment(),u=dr.clientWidth||dr.offsetWidth,f=dr.clientHeight||dr.offsetHeight,c=function(e,t,n,r){var i=st?"width: "+(n?u-n-e:u)+"px":"right: "+n+"px";s.appendChild(V("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; "+i+"; height: "+r+"px"))};if(Br.from.ch&&t.y>=0){var h=a?u-n.x:0;c(t.x,t.y,h,i)}var d=Math.max(0,t.y+(Br.from.ch?i:0)),p=Math.min(n.y,f)-d;p>.2*i&&c(0,d,0,p),a&&Br.from.ch||!(n.y<f-.5*i)||c(0,n.y,u-n.x,i),Y(ur,s),fr.style.display="none",ur.style.display=""}}function on(e){Ar=e?Ar||(Br.inverted?Br.to:Br.from):null}function ln(e,t){var n=Ar&&cn(Ar);n&&(U(n,e)?e=n:U(t,n)&&(t=n)),an(e,t),Dr=!0}function an(e,t,n,r){if(qr=null,null==n&&(n=Br.from.line,r=Br.to.line),!K(Br.from,e)||!K(Br.to,t)){if(U(t,e)){var i=t;t=e,e=i}if(e.line!=n){var o=sn(e,n,Br.from.ch);o?e=o:zn(e.line,!1)}if(t.line!=r&&(t=sn(t,r,Br.to.ch)),K(e,t)?Br.inverted=!1:K(e,Br.to)?Br.inverted=!1:K(t,Br.from)&&(Br.inverted=!0),tr.autoClearEmptyLines&&K(Br.from,Br.to)){var l=Br.inverted?e:t;if(l.line!=Br.from.line&&Br.from.line<Mr.size){var a=g(Br.from.line);/^\s+$/.test(a.text)&&setTimeout(Qn(function(){if(a.parent&&/^\s+$/.test(a.text)){var e=C(a);Pt("",{line:e,ch:0},{line:e,ch:a.text.length})}},10))}}Br.from=e,Br.to=t,Or=!0}}function sn(e,t,n){function r(t){for(var r=e.line+t,i=1==t?Mr.size:-1;r!=i;){var l=g(r);if(!l.hidden){var a=e.ch;return(o||a>n||a>l.text.length)&&(a=l.text.length),{line:r,ch:a}}r+=t}}var i=g(e.line),o=e.ch==i.text.length&&e.ch!=n;return i.hidden?e.line>=t?r(1)||r(-1):r(-1)||r(1):e}function un(e,t,n){var r=cn({line:e,ch:t||0});(n?ln:an)(r,r)}function fn(e){return Math.max(0,Math.min(e,Mr.size-1))}function cn(e){if(e.line<0)return{line:0,ch:0};if(e.line>=Mr.size)return{line:Mr.size-1,ch:g(Mr.size-1).text.length};var t=e.ch,n=g(e.line).text.length;return null==t||t>n?{line:e.line,ch:n}:0>t?{line:e.line,ch:0}:e}function hn(e,t){function n(){for(var t=o+e,n=0>e?-1:Mr.size;t!=n;t+=e){var r=g(t);if(!r.hidden)return o=t,a=r,!0}}function r(t){if(l==(0>e?0:a.text.length)){if(t||!n())return!1;l=0>e?a.text.length:0}else l+=e;return!0}var i=Br.inverted?Br.from:Br.to,o=i.line,l=i.ch,a=g(o);if("char"==t)r();else if("column"==t)r(!0);else if("word"==t)for(var s=!1;!(0>e)||r();){if(Z(a.text.charAt(l)))s=!0;else if(s){0>e&&(e=1,r());break}if(e>0&&!r())break}return{line:o,ch:l}}function dn(e,t){var n=0>e?Br.from:Br.to;(Ar||K(Br.from,Br.to))&&(n=hn(e,t)),un(n.line,n.ch,!0)}function pn(e,t){K(Br.from,Br.to)?0>e?Pt("",hn(e,t),Br.to):Pt("",Br.from,hn(e,t)):Pt("",Br.from,Br.to),Dr=!0}function gn(e,t){var n=Rn(Br.inverted?Br.from:Br.to,!0);if(null!=qr&&(n.x=qr),"page"==t)var r=Math.min(yr.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=In(n.x,n.y+r*e);else if("line"==t)var o=Bn(),i=In(n.x,n.y+.5*o+e*o);"page"==t&&(ar.scrollTop+=Rn(i,!0).y-n.y),un(i.line,i.ch,!0),qr=n.x}function vn(e){var t=g(e.line).text,n=e.ch,r=e.ch;if(t){e.after===!1||r==t.length?--n:++r;for(var i=t.charAt(n),o=Z(i)?Z:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Z(e)};n>0&&o(t.charAt(n-1));)--n;for(;r<t.length&&o(t.charAt(r));)++r}return{from:{line:e.line,ch:n},to:{line:e.line,ch:r}}}function mn(e){ln({line:e,ch:0},cn({line:e+1,ch:0}))}function yn(e){if(K(Br.from,Br.to))return xn(Br.from.line,e);for(var t=Br.to.line-(Br.to.ch?0:1),n=Br.from.line;t>=n;++n)xn(n,e)}function xn(e,t){if(t||(t="add"),"smart"==t)if(br.indent)var n=jn(e);else t="prev";var r,i=g(e),o=i.indentation(tr.tabSize),l=i.text.match(/^\s*/)[0];"smart"==t&&(r=br.indent(n,i.text.slice(l.length),i.text),r==vt&&(t="prev")),"prev"==t?r=e?g(e-1).indentation(tr.tabSize):0:"add"==t?r=o+tr.indentUnit:"subtract"==t&&(r=o-tr.indentUnit),r=Math.max(0,r);var a="",s=0;if(tr.indentWithTabs)for(var u=Math.floor(r/tr.tabSize);u;--u)s+=tr.tabSize,a+="	";r>s&&(a+=I(r-s)),a!=l&&Pt(a,{line:e,ch:0},{line:e,ch:l.length}),i.stateAfter=null}function Cn(){br=e.getMode(tr,tr.mode),Mr.iter(0,Mr.size,function(e){e.stateAfter=null}),Tr=0,_n(100)}function bn(){var e=tr.gutter||tr.lineNumbers;gr.style.display=e?"":"none",e?Rr=!0:sr.parentNode.style.marginLeft=0}function Sn(){if(tr.lineWrapping){xr.className+=" CodeMirror-wrap";var e=yr.clientWidth/Kn()-3;Mr.iter(0,Mr.size,function(t){if(!t.hidden){var n=Math.ceil(t.text.length/e)||1;1!=n&&w(t,n)}}),dr.style.minWidth=cr.style.left=""}else xr.className=xr.className.replace(" CodeMirror-wrap",""),It(),Mr.iter(0,Mr.size,function(e){1==e.height||e.hidden||w(e,1)});zr.push({from:0,to:Mr.size})}function kn(){yr.className=yr.className.replace(/\s*cm-s-\S+/g,"")+tr.theme.replace(/(^|\s)\s*/g," cm-s-")}function wn(){var e=rt[tr.keyMap].style;xr.className=xr.className.replace(/\s*cm-keymap-\S+/g,"")+(e?" cm-keymap-"+e:"")}function Mn(e,t){this.lines=[],this.type=e,t&&(this.style=t)}function Tn(e,t,n,r){e=cn(e),t=cn(t);var i=new Mn("range",n);if(r)for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);var l=e.line;return Mr.iter(l,t.line+1,function(n){var r={from:l==e.line?e.ch:null,to:l==t.line?t.ch:null,marker:i};(n.markedSpans||(n.markedSpans=[])).push(r),i.lines.push(n),++l}),zr.push({from:e.line,to:t.line+1}),i}function An(e){e=cn(e);var t=new Mn("bookmark"),n=g(e.line),r={from:e.ch,to:e.ch,marker:t};return(n.markedSpans||(n.markedSpans=[])).push(r),t.lines.push(n),t}function Ln(e){e=cn(e);var t=[],n=g(e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker)}return t}function Nn(e,t,n){return"number"==typeof e&&(e=g(fn(e))),e.gutterMarker={text:t,style:n},Rr=!0,e}function Wn(e){"number"==typeof e&&(e=g(fn(e))),e.gutterMarker=null,Rr=!0}function En(e,t){var n=e,r=e;return"number"==typeof e?r=g(fn(e)):n=C(e),null==n?null:t(r,n)?(zr.push({from:n,to:n+1}),r):null}function Dn(e,t,n){return En(e,function(e){return e.className!=t||e.bgClassName!=n?(e.className=t,e.bgClassName=n,!0):void 0})}function zn(e,t){return En(e,function(e,n){if(e.hidden!=t){e.hidden=t,tr.lineWrapping||(t&&e.text.length==jr.text.length?Zr=!0:!t&&e.text.length>jr.text.length&&(jr=e,Zr=!1)),w(e,t?0:1);var r=Br.from.line,i=Br.to.line;if(t&&(r==n||i==n)){var o=r==n?sn({line:r,ch:0},r,0):Br.from,l=i==n?sn({line:i,ch:0},i,0):Br.to;if(!l)return;an(o,l)}return Rr=!0}})}function Hn(e){if("number"==typeof e){if(!p(e))return null;var t=e;if(e=g(e),!e)return null}else{var t=C(e);if(null==t)return null}var n=e.gutterMarker;return{line:t,handle:e,text:e.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:e.className,bgClass:e.bgClassName}}function On(e,t){if(0==t)return{top:0,left:0};var n=(tr.lineWrapping&&t<e.text.length&&yt.test(e.text.slice(t-1,t+1)),A(e,t));Y(hr,n);var r=n.anchor,i=r.offsetTop,o=r.offsetLeft;if(ot&&0==i&&0==o){var l=V("span","x");r.parentNode.insertBefore(l,r.nextSibling),i=l.offsetTop}return{top:i,left:o}}function Rn(e,t){var n,r=Bn(),i=r*(S(Mr,e.line)-(t?Gr:0));if(0==e.ch)n=0;else{var o=On(g(e.line),e.ch);n=o.left,tr.lineWrapping&&(i+=Math.max(0,o.top))}return{x:n,y:i,yBot:i+r}}function In(e,t){function n(e){var t=On(a,e);if(u){var n=Math.round(t.top/r);return h=n!=f,Math.max(0,t.left+(n-f)*yr.clientWidth)}return t.left}var r=Bn(),i=Kn(),o=Gr+Math.floor(t/r);if(0>o)return{line:0,ch:0};var l=b(Mr,o);if(l>=Mr.size)return{line:Mr.size-1,ch:g(Mr.size-1).text.length};var a=g(l),s=a.text,u=tr.lineWrapping,f=u?o-S(Mr,l):0;if(0>=e&&0==f)return{line:l,ch:0};for(var c,h=!1,d=0,p=0,v=s.length,m=Math.min(v,Math.ceil((e+f*yr.clientWidth*.9)/i));;){var y=n(m);if(!(e>=y&&v>m)){c=y,v=m;break}m=Math.min(v,Math.ceil(1.2*m))}if(e>c)return{line:l,ch:v};for(m=Math.floor(.8*v),y=n(m),e>y&&(d=m,p=y);;){if(1>=v-d){var x=c-e>e-p;return{line:l,ch:x?d:v,after:x}}var C=Math.ceil((d+v)/2),k=n(C);k>e?(v=C,c=k,h&&(c+=1e3)):(d=C,p=k)}}function Pn(e){var t=Rn(e,!0),n=O(dr);return{x:n.left+t.x,y:n.top+t.y,yBot:n.top+t.yBot}}function Bn(){if(null==ui){ui=V("pre");for(var e=0;49>e;++e)ui.appendChild(document.createTextNode("x")),ui.appendChild(V("br"));ui.appendChild(document.createTextNode("x"))}var t=sr.clientHeight;return t==si?ai:(si=t,Y(hr,ui.cloneNode(!0)),ai=hr.firstChild.offsetHeight/50||1,G(hr),ai)}function Kn(){if(yr.clientWidth==hi)return fi;hi=yr.clientWidth;var e=V("span","x"),t=V("pre",[e]);return Y(hr,t),fi=e.offsetWidth||10}function Un(){return dr.offsetTop}function Fn(){return dr.offsetLeft}function Vn(e,t){var n,r,i=O(yr,!0);try{n=e.clientX,r=e.clientY}catch(e){return null}if(!t&&(n-i.left>yr.clientWidth||r-i.top>yr.clientHeight))return null;var o=O(dr,!0);return In(n-o.left,r-o.top)}function Gn(e){function t(){if(or.style.position="relative",ir.style.cssText=i,at&&(ar.scrollTop=r),Vt(),null!=ir.selectionStart){clearTimeout(ci);var e=ir.value=" "+(K(Br.from,Br.to)?"":ir.value),t=0;li=" ",ir.selectionStart=1,ir.selectionEnd=e.length,ci=setTimeout(function n(){" "==li&&0==ir.selectionStart?Qn(nt.selectAll)(ii):t++<10?ci=setTimeout(n,500):$t()},200)}}var n=Vn(e),r=ar.scrollTop;if(n&&!ct){(K(Br.from,Br.to)||U(n,Br.from)||!U(n,Br.to))&&Qn(un)(n.line,n.ch);var i=ir.style.cssText;if(or.style.position="absolute",ir.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Xt(),$t(!0),K(Br.from,Br.to)&&(ir.value=li=" "),it){L(e);var o=D(window,"mouseup",function(){o(),setTimeout(t,20)},!0)}else setTimeout(t,50)}}function Yn(){clearInterval(Cr);var e=!0;fr.style.visibility="",Cr=setInterval(function(){fr.style.visibility=(e=!e)?"":"hidden"},tr.cursorBlinkRate)}function $n(e){function t(e,t,n){if(e.text)for(var r,i=e.styles,o=l?0:e.text.length-1,s=l?0:i.length-2,u=l?i.length:-2;s!=u;s+=2*a){var f=i[s];if(i[s+1]==h){for(var c=l?0:f.length-1,g=l?f.length:-1;c!=g;c+=a,o+=a)if(o>=t&&n>o&&p.test(r=f.charAt(c))){var v=di[r];if(">"==v.charAt(1)==l)d.push(r);else{if(d.pop()!=v.charAt(0))return{pos:o,match:!1};if(!d.length)return{pos:o,match:!0}}}}else o+=a*f.length}}var n=Br.inverted?Br.from:Br.to,r=g(n.line),i=n.ch-1,o=i>=0&&di[r.text.charAt(i)]||di[r.text.charAt(++i)];if(o){for(var l=(o.charAt(0),">"==o.charAt(1)),a=l?1:-1,s=r.styles,u=i+1,f=0,c=s.length;c>f;f+=2)if((u-=s[f].length)<=0){var h=s[f+1];break}for(var d=[r.text.charAt(i)],p=/[(){}[\]]/,f=n.line,c=l?Math.min(f+100,Mr.size):Math.max(-1,f-100);f!=c;f+=a){var r=g(f),v=f==n.line,m=t(r,v&&l?i+1:0,v&&!l?i:r.text.length);if(m)break}m||(m={pos:null,match:!1});var h=m.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",y=Tn({line:n.line,ch:i},{line:n.line,ch:i+1},h),x=null!=m.pos&&Tn({line:f,ch:m.pos},{line:f,ch:m.pos+1},h),C=Qn(function(){y.clear(),x&&x.clear()});e?setTimeout(C,800):Pr=C}}function Xn(e){for(var t,n,r=e,i=e-40;r>i;--r){if(0==r)return 0;var o=g(r-1);if(o.stateAfter)return r;var l=o.indentation(tr.tabSize);(null==n||t>l)&&(n=r-1,t=l)}return n}function jn(e){var t=Xn(e),n=t&&g(t-1).stateAfter;return n=n?i(br,n):o(br),Mr.iter(t,e,function(r){r.process(br,n,tr.tabSize),r.stateAfter=t==e-1||t%5==0?i(br,n):null}),n}function Zn(){if(!(Tr>=$r)){var e=+new Date+tr.workTime,t=i(br,jn(Tr)),n=Tr;Mr.iter(Tr,$r,function(n){return Tr>=Yr?(n.highlight(br,t,tr.tabSize),n.stateAfter=i(br,t)):(n.process(br,t,tr.tabSize),n.stateAfter=Tr%5==0?i(br,t):null),++Tr,+new Date>e?(_n(tr.workDelay),!0):void 0}),$r>n&&Tr>=Yr&&Qn(function(){zr.push({from:n,to:Tr})})()}}function _n(e){$r>Tr&&wr.set(e,Zn)}function Jn(){Er=Dr=Hr=null,zr=[],Or=!1,Ir=[]}function qn(){if(Zr&&It(),_r&&!tr.lineWrapping){var e=cr.offsetWidth,t=On(jr,jr.text.length).left;lt||(cr.style.left=t+"px",dr.style.minWidth=t+e+"px"),_r=!1}var n,r;if(Or){var i=Zt();n=Jt(i.x,i.y,i.x,i.yBot)}(zr.length||n&&null!=n.scrollTop)&&(r=Qt(zr,!0,n&&n.scrollTop)),r||(Or&&rn(),Rr&&nn()),n&&jt(),Or&&Yn(),Sr&&(Er===!0||Er!==!1&&Or)&&$t(Dr),Or&&tr.matchBrackets&&setTimeout(Qn(function(){Pr&&(Pr(),Pr=null),K(Br.from,Br.to)&&$n(!1)}),20);var o=Or,l=Ir;Hr&&tr.onChange&&ii&&tr.onChange(ii,Hr),o&&tr.onCursorActivity&&tr.onCursorActivity(ii);for(var a=0;a<l.length;++a)l[a](ii);r&&tr.onUpdate&&tr.onUpdate(ii)}function Qn(e){return function(){pi++||Jn();try{var t=e.apply(this,arguments)}finally{--pi||qn()}return t}}function er(e){Qr.startCompound();try{return e()}finally{Qr.endCompound()}}var tr={},nr=e.defaults;for(var rr in nr)nr.hasOwnProperty(rr)&&(tr[rr]=(s&&s.hasOwnProperty(rr)?s:nr)[rr]);var ir=V("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");ir.setAttribute("wrap","off"),ir.setAttribute("autocorrect","off"),ir.setAttribute("autocapitalize","off");var or=V("div",[ir],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),lr=V("div",null,"CodeMirror-scrollbar-inner"),ar=V("div",[lr],"CodeMirror-scrollbar"),sr=V("div"),ur=V("div",null,null,"position: relative; z-index: -1"),fr=V("pre"," ","CodeMirror-cursor"),cr=V("pre"," ","CodeMirror-cursor","visibility: hidden"),hr=V("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"),dr=V("div",[hr,fr,cr,ur,sr],null,"position: relative; z-index: 0"),pr=V("div",null,"CodeMirror-gutter-text"),gr=V("div",[pr],"CodeMirror-gutter"),vr=V("div",[gr,V("div",[dr],"CodeMirror-lines")],null,"position: relative"),mr=V("div",[vr],null,"position: relative"),yr=V("div",[mr],"CodeMirror-scroll");yr.setAttribute("tabIndex","-1");var xr=V("div",[or,ar,yr],"CodeMirror"+(tr.lineWrapping?" CodeMirror-wrap":""));l.appendChild?l.appendChild(xr):l(xr),kn(),wn(),_&&(ir.style.width="0px"),ut||(yr.draggable=!0),dr.style.outline="none",null!=tr.tabindex&&(ir.tabIndex=tr.tabindex),tr.autofocus&&Xt(),tr.gutter||tr.lineNumbers||(gr.style.display="none"),dt&&(or.style.height="1px",or.style.position="absolute"),pt?(ar.style.zIndex=-2,ar.style.visibility="hidden"):lt&&(ar.style.minWidth="18px");var Cr,br,Sr,kr=new z,wr=new z,Mr=new y([new m([new v("")])]),Tr=0;Cn();var Ar,Lr,Nr,Wr,Er,Dr,zr,Hr,Or,Rr,Ir,Pr,Br={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Kr=0,Ur=!1,Fr=!1,Vr=!1,Gr=0,Yr=0,$r=0,Xr=0,jr=g(0),Zr=!1,_r=!0,Jr=!1,qr=null;Qn(function(){H(tr.value||""),Er=!1})();var Qr=new k;D(yr,"mousedown",Qn(tt)),D(yr,"dblclick",Qn(ft)),D(dr,"selectstart",T),it||D(yr,"contextmenu",Gn),D(yr,"scroll",Q),D(ar,"scroll",q),D(ar,"mousedown",function(){Sr&&setTimeout(Xt,0)});var ei=D(window,"resize",function(){xr.parentNode?Qt(!0):ei()},!0);D(ir,"keyup",Qn(At)),D(ir,"input",Gt),D(ir,"keydown",Qn(Mt)),D(ir,"keypress",Qn(Tt)),D(ir,"focus",Lt),D(ir,"blur",Nt),tr.dragDrop&&(D(yr,"dragstart",gt),D(yr,"dragenter",u),D(yr,"dragover",u),D(yr,"drop",Qn(ht))),D(yr,"paste",function(){Xt(),Gt()}),D(ir,"paste",function(){Vr=!0,Gt()}),D(ir,"cut",Qn(function(){tr.readOnly||Bt("")})),dt&&D(mr,"mouseup",function(){document.activeElement==ir&&ir.blur(),Xt()});var ti;try{ti=document.activeElement==ir}catch(ni){}ti||tr.autofocus?setTimeout(Lt,20):Nt();var ri,ii=xr.CodeMirror={getValue:$,setValue:Qn(H),getSelection:Ft,replaceSelection:Qn(Bt),focus:function(){window.focus(),Xt(),Lt(),Gt()},setOption:function(e,t){var n=tr[e];tr[e]=t,"mode"==e||"indentUnit"==e?Cn():"readOnly"==e&&"nocursor"==t?(Nt(),ir.blur()):"readOnly"!=e||t?"theme"==e?kn():"lineWrapping"==e&&n!=t?Qn(Sn)():"tabSize"==e?Qt(!0):"keyMap"==e?wn():"tabindex"==e&&(ir.tabIndex=t):$t(!0),("lineNumbers"==e||"gutter"==e||"firstLineNumber"==e||"theme"==e||"lineNumberFormatter"==e)&&(bn(),Qt(!0))},getOption:function(e){return tr[e]},getMode:function(){return br},undo:Qn(Dt),redo:Qn(zt),indentLine:Qn(function(e,t){"string"!=typeof t&&(t=null==t?tr.smartIndent?"smart":"prev":t?"add":"subtract"),p(e)&&xn(e,t)}),indentSelection:Qn(yn),historySize:function(){return{undo:Qr.done.length,redo:Qr.undone.length}},clearHistory:function(){Qr=new k},setHistory:function(e){Qr=new k,Qr.done=e.done,Qr.undone=e.undone},getHistory:function(){function e(e){for(var t,n=0,r=[];n<e.length;++n){r.push(t=[]);for(var i=0,o=e[n];i<o.length;++i){var l=[],a=o[i];t.push({start:a.start,added:a.added,old:l});for(var s=0;s<a.old.length;++s)l.push(c(a.old[s]))}}return r}return{done:e(Qr.done),undone:e(Qr.undone)}},matchBrackets:Qn(function(){$n(!0)}),getTokenAt:Qn(function(e){return e=cn(e),g(e.line).getTokenAt(br,jn(e.line),tr.tabSize,e.ch)}),getStateAfter:function(e){return e=fn(null==e?Mr.size-1:e),jn(e+1)},cursorCoords:function(e,t){return null==e&&(e=Br.inverted),this.charCoords(e?Br.from:Br.to,t)},charCoords:function(e,t){return e=cn(e),"local"==t?Rn(e,!1):"div"==t?Rn(e,!0):Pn(e)},coordsChar:function(e){var t=O(dr);return In(e.x-t.left,e.y-t.top)},markText:Qn(Tn),setBookmark:An,findMarksAt:Ln,setMarker:Qn(Nn),clearMarker:Qn(Wn),setLineClass:Qn(Dn),hideLine:Qn(function(e){return zn(e,!0)}),showLine:Qn(function(e){return zn(e,!1)}),onDeleteLine:function(e,t){if("number"==typeof e){if(!p(e))return null;e=g(e)}return(e.handlers||(e.handlers=[])).push(t),e},lineInfo:Hn,getViewport:function(){return{from:Yr,to:$r}},addWidget:function(e,t,n,r,i){e=Rn(cn(e));var o=e.yBot,l=e.x;if(t.style.position="absolute",mr.appendChild(t),"over"==r)o=e.y;else if("near"==r){var a=Math.max(yr.offsetHeight,Mr.height*Bn()),s=Math.max(mr.clientWidth,dr.clientWidth)-Fn();e.yBot+t.offsetHeight>a&&e.y>t.offsetHeight&&(o=e.y-t.offsetHeight),l+t.offsetWidth>s&&(l=s-t.offsetWidth)}t.style.top=o+Un()+"px",t.style.left=t.style.right="","right"==i?(l=mr.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(mr.clientWidth-t.offsetWidth)/2),t.style.left=l+Fn()+"px"),n&&_t(l,o,l+t.offsetWidth,o+t.offsetHeight)
},lineCount:function(){return Mr.size},clipPos:cn,getCursor:function(e){return null==e&&(e=Br.inverted),F(e?Br.from:Br.to)},somethingSelected:function(){return!K(Br.from,Br.to)},setCursor:Qn(function(e,t,n){null==t&&"number"==typeof e.line?un(e.line,e.ch,n):un(e,t,n)}),setSelection:Qn(function(e,t,n){(n?ln:an)(cn(e),cn(t||e))}),getLine:function(e){return p(e)?g(e).text:void 0},getLineHandle:function(e){return p(e)?g(e):void 0},setLine:Qn(function(e,t){p(e)&&Pt(t,{line:e,ch:0},{line:e,ch:g(e).text.length})}),removeLine:Qn(function(e){p(e)&&Pt("",{line:e,ch:0},cn({line:e+1,ch:0}))}),replaceRange:Qn(Pt),getRange:function(e,t,n){return Ut(cn(e),cn(t),n)},triggerOnKeyDown:Qn(Mt),execCommand:function(e){return nt[e](ii)},moveH:Qn(dn),deleteH:Qn(pn),moveV:Qn(gn),toggleOverwrite:function(){Ur?(Ur=!1,fr.className=fr.className.replace(" CodeMirror-overwrite","")):(Ur=!0,fr.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var t,n=0;return Mr.iter(0,Mr.size,function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),cn({line:n,ch:t})},indexFromPos:function(e){if(e.line<0||e.ch<0)return 0;var t=e.ch;return Mr.iter(0,e.line,function(e){t+=e.text.length+1}),t},scrollTo:function(e,t){null!=e&&(yr.scrollLeft=e),null!=t&&(ar.scrollTop=yr.scrollTop=t),Qt([])},getScrollInfo:function(){return{x:yr.scrollLeft,y:ar.scrollTop,height:ar.scrollHeight,width:yr.scrollWidth}},setSize:function(e,t){function n(e){return e=String(e),/^\d+$/.test(e)?e+"px":e}null!=e&&(xr.style.width=n(e)),null!=t&&(yr.style.height=n(t)),ii.refresh()},operation:function(e){return Qn(e)()},compoundChange:function(e){return er(e)},refresh:function(){Qt(!0,null,Kr),ar.scrollHeight>Kr&&(ar.scrollTop=Kr)},getInputField:function(){return ir},getWrapperElement:function(){return xr},getScrollerElement:function(){return yr},getGutterElement:function(){return gr}},oi=null,li="";Mn.prototype.clear=Qn(function(){for(var e=1/0,t=-1/0,n=0;n<this.lines.length;++n){var r=this.lines[n],i=a(r.markedSpans,this,!0);if(null!=i.from||null!=i.to){var o=C(r);e=Math.min(e,o),t=Math.max(t,o)}}1/0!=e&&zr.push({from:e,to:t+1}),this.lines.length=0}),Mn.prototype.find=function(){for(var e,t,n=0;n<this.lines.length;++n){var r=this.lines[n],i=a(r.markedSpans,this);if(null!=i.from||null!=i.to){var o=C(r);null!=i.from&&(e={line:o,ch:i.from}),null!=i.to&&(t={line:o,ch:i.to})}}return"bookmark"==this.type?e:e&&{from:e,to:t}};var ai,si,ui,fi,ci,hi=0,di={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},pi=0;for(var gi in et)et.propertyIsEnumerable(gi)&&!ii.propertyIsEnumerable(gi)&&(ii[gi]=et[gi]);return ii}function t(e){return"string"==typeof e?rt[e]:e}function n(e,n,r,i,o){function l(n){n=t(n);var r=n[e];if(r===!1)return o&&o(),!0;if(null!=r&&i(r))return!0;if(n.nofallthrough)return o&&o(),!0;var a=n.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return l(a);for(var s=0,u=a.length;u>s;++s)if(l(a[s]))return!0;return!1}return n&&l(n)?!0:l(r)}function r(e){var t=St[E(e,"keyCode")];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function i(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function o(e,t,n){return e.startState?e.startState(t,n):!0}function l(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8}function a(e,t,n){if(e)for(var r=0;r<e.length;++r){var i=e[r];if(i.marker==t)return n&&e.splice(r,1),i}}function s(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],l=o.marker,a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(a||"bookmark"==l.type&&o.from==t&&o.from!=n){var s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push({from:o.from,to:s?null:o.to,marker:l})}}return r}function u(e,t){if(e)for(var n,r=0;r<e.length;++r){var i=e[r],o=i.marker,l=null==i.to||(o.inclusiveRight?i.to>=t:i.to>t);if(l||"bookmark"==o.type&&i.from==t){var a=null==i.from||(o.inclusiveLeft?i.from<=t:i.from<t);(n||(n=[])).push({from:a?null:i.from-t,to:null==i.to?null:i.to-t,marker:o})}}return n}function f(e,t,n,r,i){if(!e&&!t)return i;var o=s(e,n),l=u(t,r),f=1==i.length,c=P(i).length+(f?n:0);if(o)for(var h=0;h<o.length;++h){var p=o[h];if(null==p.to){var g=a(l,p.marker);g?f&&(p.to=null==g.to?null:g.to+c):p.to=n}}if(l)for(var h=0;h<l.length;++h){var p=l[h];if(null!=p.to&&(p.to+=c),null==p.from){var g=a(o,p.marker);g||(p.from=c,f&&(o||(o=[])).push(p))}else p.from+=c,f&&(o||(o=[])).push(p)}var v=[d(i[0],o)];if(!f){var m,y=i.length-2;if(y>0&&o)for(var h=0;h<o.length;++h)null==o[h].to&&(m||(m=[])).push({from:null,to:null,marker:o[h].marker});for(var h=0;y>h;++h)v.push(d(i[h+1],m));v.push(d(P(i),l))}return v}function c(e){return"string"==typeof e?e:e.text}function h(e){return"string"==typeof e?null:e.markedSpans}function d(e,t){return t?{text:e,markedSpans:t}:e}function p(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n){var r=t[n].marker.lines,i=j(r,e);r.splice(i,1)}e.markedSpans=null}}function g(e,t){if(t){for(var n=0;n<t.length;++n){t[n].marker.lines.push(e)}e.markedSpans=t}}function v(e,t){this.text=e,this.height=1,g(this,t)}function m(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,r=0;n>t;++t)e[t].parent=this,r+=e[t].height;this.height=r}function y(e){this.children=e;for(var t=0,n=0,r=0,i=e.length;i>r;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function x(e,t){for(;!e.lines;)for(var n=0;;++n){var r=e.children[n],i=r.chunkSize();if(i>t){e=r;break}t-=i}return e.lines[t]}function C(e){if(null==e.parent)return null;for(var t=e.parent,n=j(t.lines,e),r=t.parent;r;t=r,r=r.parent){var i=0;for(r.children.length;r.children[i]!=t;++i)n+=r.children[i].chunkSize()}return n}function b(e,t){var n=0;e:do{for(var r=0,i=e.children.length;i>r;++r){var o=e.children[r],l=o.height;if(l>t){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var r=0,i=e.lines.length;i>r;++r){var a=e.lines[r],s=a.height;if(s>t)break;t-=s}return n+r}function S(e,t){var n=0;e:do{for(var r=0,i=e.children.length;i>r;++r){var o=e.children[r],l=o.chunkSize();if(l>t){e=o;continue e}t-=l,n+=o.height}return n}while(!e.lines);for(var r=0;t>r;++r)n+=e.lines[r].height;return n}function k(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function w(){L(this)}function M(e){return e.stop||(e.stop=w),e}function T(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function A(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function L(e){T(e),A(e)}function N(e){return e.target||e.srcElement}function W(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),J&&e.ctrlKey&&1==t&&(t=3),t}function E(e,t){var n=e.override&&e.override.hasOwnProperty(t);return n?e.override[t]:e[t]}function D(e,t,n,r){if("function"==typeof e.addEventListener){if(e.addEventListener(t,n,!1),r)return function(){e.removeEventListener(t,n,!1)}}else{var i=function(e){n(e||window.event)};if(e.attachEvent("on"+t,i),r)return function(){e.detachEvent("on"+t,i)}}}function z(){this.id=null}function H(e,t,n){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var r=0,i=0;t>r;++r)"	"==e.charAt(r)?i+=n-i%n:++i;return i}function O(e,t){try{var n=e.getBoundingClientRect();n={top:n.top,left:n.left}}catch(r){n={top:0,left:0}}if(!t)if(null==window.pageYOffset){var i=document.documentElement||document.body.parentNode;null==i.scrollTop&&(i=document.body),n.top+=i.scrollTop,n.left+=i.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n}function R(e){return e.textContent||e.innerText||e.nodeValue||""}function I(e){for(;xt.length<=e;)xt.push(P(xt)+" ");return xt[e]}function P(e){return e[e.length-1]}function B(e){_?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function K(e,t){return e.line==t.line&&e.ch==t.ch}function U(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function F(e){return{line:e.line,ch:e.ch}}function V(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)$(i,t);else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function G(e){return e.innerHTML="",e}function Y(e,t){G(e).appendChild(t)}function $(e,t){at?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function X(e,t){if(!t)return 0;if(!e)return t.length;for(var n=e.length,r=t.length;n>=0&&r>=0&&e.charAt(n)==t.charAt(r);--n,--r);return r+1}function j(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}function Z(e){return/\w/.test(e)||e.toUpperCase()!=e.toLowerCase()}e.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(e){return e}};var _=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),J=_||/Mac/.test(navigator.platform),q=(/Win/.test(navigator.platform),e.modes={}),Q=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}q[t]=n},e.defineMIME=function(e,t){Q[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Q.hasOwnProperty(t))t=Q[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=q[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(tt.hasOwnProperty(n.name)){var o=tt[n.name];for(var l in o)o.hasOwnProperty(l)&&(i[l]=o[l])}return i.name=n.name,i},e.listModes=function(){var e=[];for(var t in q)q.propertyIsEnumerable(t)&&e.push(t);return e},e.listMIMEs=function(){var e=[];for(var t in Q)Q.propertyIsEnumerable(t)&&e.push({mime:t,mode:Q[t]});return e};var et=e.extensions={};e.defineExtension=function(e,t){et[e]=t};var tt=e.modeExtensions={};e.extendMode=function(e,t){var n=tt.hasOwnProperty(e)?tt[e]:tt[e]={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])};var nt=e.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),r=!K(t,n);r||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,r?n:{line:t.line}):e.replaceRange("",t,{line:t.line+1,ch:0})},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",{line:t,ch:0},{line:t})},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.setCursor(0,0,!0)},goDocEnd:function(e){e.setSelection({line:e.lineCount()-1},null,!0)},goLineStart:function(e){e.setCursor(e.getCursor().line,0,!0)},goLineStartSmart:function(e){var t=e.getCursor(),n=e.getLine(t.line),r=Math.max(0,n.search(/\S/));e.setCursor(t.line,t.ch<=r&&t.ch?0:r,!0)},goLineEnd:function(e){e.setSelection({line:e.getCursor().line},null,!0)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharLeft:function(e){e.deleteH(-1,"char")},delCharRight:function(e){e.deleteH(1,"char")},delWordLeft:function(e){e.deleteH(-1,"word")},delWordRight:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),{line:t.line,ch:t.ch-1},{line:t.line,ch:t.ch+1})},newlineAndIndent:function(e){e.replaceSelection("\n","end"),e.indentLine(e.getCursor().line)},toggleOverwrite:function(e){e.toggleOverwrite()}},rt=e.keyMap={};rt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},rt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},rt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},rt["default"]=J?rt.macDefault:rt.pcDefault,rt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.isModifierKey=r,e.fromTextArea=function(t,n){function r(){t.value=s.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),null==n.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form){var l=D(t.form,"submit",r,!0);if("function"==typeof t.form.submit){var a=t.form.submit;t.form.submit=function u(){r(),t.form.submit=a,t.form.submit(),t.form.submit=u}}}t.style.display="none";var s=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return s.save=r,s.getTextArea=function(){return t},s.toTextArea=function(){r(),t.parentNode.removeChild(s.getWrapperElement()),t.style.display="",t.form&&(l(),"function"==typeof t.form.submit&&(t.form.submit=a))},s};var it=/gecko\/\d{7}/i.test(navigator.userAgent),ot=/MSIE \d/.test(navigator.userAgent),lt=/MSIE [1-7]\b/.test(navigator.userAgent),at=/MSIE [1-8]\b/.test(navigator.userAgent),st=ot&&5==document.documentMode,ut=/WebKit\//.test(navigator.userAgent),ft=/Chrome\//.test(navigator.userAgent),ct=/Opera\//.test(navigator.userAgent),ht=/Apple Computer/.test(navigator.vendor),dt=/KHTML\//.test(navigator.userAgent),pt=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);e.copyState=i,e.startState=o,e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}},l.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return H(this.string,this.start,this.tabSize)},indentation:function(){return H(this.string,null,this.tabSize)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};return i(this.string).indexOf(i(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=l;var gt=" ";it||ot&&!lt?gt="​":ct&&(gt=""),v.prototype={update:function(e,t){this.text=e,this.stateAfter=this.styles=null,p(this),g(this,t)},highlight:function(e,t,n){var r=new l(this.text,n),i=this.styles||(this.styles=[]),o=i.length=0;for(""==this.text&&e.blankLine&&e.blankLine(t);!r.eol();){var a=e.token(r,t),s=r.current();if(r.start=r.pos,o&&i[o-1]==a?i[o-2]+=s:s&&(i[o++]=s,i[o++]=a),r.pos>5e3){i[o++]=this.text.slice(r.pos),i[o++]=null;break}}},process:function(e,t,n){var r=new l(this.text,n);for(""==this.text&&e.blankLine&&e.blankLine(t);!r.eol()&&r.pos<=5e3;)e.token(r,t),r.start=r.pos},getTokenAt:function(e,t,n,r){for(var i=this.text,o=new l(i,n);o.pos<r&&!o.eol();){o.start=o.pos;var a=e.token(o,t)}return{start:o.start,end:o.pos,string:o.current(),className:a||null,state:t}},indentation:function(e){return H(this.text,null,e)},getContent:function(e,t,n){function r(t,n,r){if(n){if(o&&ot&&" "==n.charAt(0)&&(n=" "+n.slice(1)),o=!1,a.test(n))for(var i=document.createDocumentFragment(),s=0;;){a.lastIndex=s;var u=a.exec(n),f=u?u.index-s:n.length-s;if(f&&(i.appendChild(document.createTextNode(n.slice(s,s+f))),l+=f),!u)break;if(s+=f+1,"	"==u[0]){var c=e-l%e;i.appendChild(V("span",I(c),"cm-tab")),l+=c}else{var h=V("span","•","cm-invalidchar");h.title="\\u"+u[0].charCodeAt(0).toString(16),i.appendChild(h),l+=1}}else{l+=n.length;var i=document.createTextNode(n)}t.appendChild(r?V("span",[i],r):i)}}function i(e){return e?"cm-"+e.replace(/ +/g," cm-"):null}var o=!0,l=0,a=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g,s=V("pre"),u=r;if(null!=t){var f=0,c=s.anchor=V("span");u=function(e,i,o){var l=i.length;if(t>=f&&f+l>t){t>f&&(r(e,i.slice(0,t-f),o),n&&e.appendChild(V("wbr"))),e.appendChild(c);var a=t-f;r(c,ct?i.slice(a,a+1):i.slice(a),o),ct&&r(e,i.slice(a+1),o),t--,f+=l}else f+=l,r(e,i,o),f==t&&f==g?($(c,gt),e.appendChild(c)):f>t+10&&/\s/.test(i)&&(u=function(){})}}var h=this.styles,d=this.text,p=this.markedSpans,g=d.length;if(d||null!=t)if(p&&p.length){p.sort(function(e,t){return e.from-t.from});for(var v,m=0,y=0,x="",C=p[0].from||0,b=[],S=0,k=function(){for(var e;S<p.length&&((e=p[S]).from==m||null==e.from);)"range"==e.marker.type&&b.push(e),++S;C=S<p.length?p[S].from:1/0;for(var t=0;t<b.length;++t){var n=b[t].to;null==n&&(n=1/0),n==m?b.splice(t--,1):C=Math.min(n,C)}};g>m;){C==m&&k();for(var w=Math.min(g,C);;){if(x){for(var M=m+x.length,T=v,A=0;A<b.length;++A){var L=b[A];T=(T?T+" ":"")+L.marker.style,L.marker.endStyle&&L.to===Math.min(M,w)&&(T+=" "+L.marker.endStyle),L.marker.startStyle&&L.from===m&&(T+=" "+L.marker.startStyle)}if(u(s,M>w?x.slice(0,w-m):x,T),M>=w){x=x.slice(w-m),m=w;break}m=M}x=h[y++],v=i(h[y++])}}}else for(var y=0,N=0;g>N;y+=2){var W=h[y],v=h[y+1],E=W.length;N+E>g&&(W=W.slice(0,g-N)),N+=E,u(s,W,i(v))}else u(s," ");return s},cleanUp:function(){this.parent=null,p(this)}},m.prototype={chunkSize:function(){return this.lines.length},remove:function(e,t,n){for(var r=e,i=e+t;i>r;++r){var o=this.lines[r];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;l<o.handlers.length;++l)n.push(o.handlers[l])}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertHeight:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0,i=t.length;i>r;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},y.prototype={chunkSize:function(){return this.size},remove:function(e,t,n){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var l=Math.min(t,o-e),a=i.height;if(i.remove(e,l,n),this.height-=a-i.height,o==l&&(this.children.splice(r--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25){var s=[];this.collapse(s),this.children=[new m(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;n>t;++t)this.children[t].collapse(e)},insert:function(e,t){for(var n=0,r=0,i=t.length;i>r;++r)n+=t[r].height;this.insertHeight(e,t,n)},insertHeight:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],l=o.chunkSize();if(l>=e){if(o.insertHeight(e,t,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),s=new m(a);o.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new y(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=j(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new y(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],l=o.chunkSize();if(l>e){var a=Math.min(t,l-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=l}}},k.prototype={addChange:function(e,t,n){this.undone.length=0;var r=+new Date,i=P(this.done),o=i&&P(i),l=r-this.time;if(this.compound&&i&&!this.closed)i.push({start:e,added:t,old:n});else if(l>400||!o||this.closed||o.start>e+n.length||o.start+o.added<e)this.done.push([{start:e,added:t,old:n}]),this.closed=!1;else{for(var a=Math.max(0,o.start-e),s=Math.max(0,e+n.length-(o.start+o.added)),u=a;u>0;--u)o.old.unshift(n[u-1]);for(var u=s;u>0;--u)o.old.push(n[n.length-u]);a&&(o.start=e),o.added+=t-(n.length-a-s)}this.time=r},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},e.e_stop=L,e.e_preventDefault=T,e.e_stopPropagation=A,e.connect=D,z.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}};var vt=e.Pass={toString:function(){return"CodeMirror.Pass"}},mt=function(){if(at)return!1;var e=V("div");return"draggable"in e||"dragDrop"in e}(),yt=(function(){var e=V("textarea");return e.value="foo\nbar",e.value.indexOf("\r")>-1?"\r\n":"\n"}(),/^$/);it?yt=/$'/:ht?yt=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:ft&&(yt=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var xt=[""],Ct=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(n.push(o.slice(0,l)),t+=l+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Ct;var bt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1};e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var St={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return e.keyNames=St,function(){for(var e=0;10>e;e++)St[e+48]=String(e);for(var e=65;90>=e;e++)St[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)St[e+111]=St[e+63235]="F"+e}(),e.version="2.34 +",e}();